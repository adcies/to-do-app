(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(18),i=n.n(r),s=n(12),o=n(5),l=n(29),j=n(21),d=n(22),u=(n(39),n(0)),b=function(e){var t=e.handleClick;return Object(u.jsx)("div",{className:"toggle-nav",onClick:t,children:Object(u.jsx)(j.a,{icon:d.a})})},h=(n(41),function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),j=Object(o.a)(i,2),d=j[0],h=j[1];Object(a.useEffect)((function(){var e=function(){window.innerWidth>1023?r(!0):r(!1)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){c&&(e.current.removeAttribute("style"),h(!1))}),[c]);var O=function(){var t=e.current;d?l.a.to(t,{duration:.3,ease:"power1.out",left:"-110%"}):l.a.to(t,{duration:.3,ease:"power1.out",left:"-18%"}),h((function(e){return!e}))},m=function(){c||O()};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("nav",{ref:e,className:"main-navigation",children:Object(u.jsxs)("ul",{className:"main-navigation__list",children:[Object(u.jsx)("li",{className:"main-navigation__element",children:Object(u.jsx)(s.c,{onClick:m,to:"/",exact:!0,className:"main-navigation__element-href",activeClassName:"main-navigation__element-href--active",children:"Home"})}),Object(u.jsx)("li",{className:"main-navigation__element",children:Object(u.jsx)(s.c,{onClick:m,to:"/tasks",className:"main-navigation__element-href",activeClassName:"main-navigation__element-href--active",children:"All tasks"})})]})}),c?null:Object(u.jsx)(b,{handleClick:O})]})}),O=(n(44),function(){return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("p",{className:"header__title",children:"To-do-application"}),Object(u.jsx)(h,{})]})}),m=n(4),f=n(7),p=n(23),_=n(11),x=function(e){return{task:"",date:e,priority:!1}},v=n(61),N=(n(45),function(e){var t=e.split(".");return 1===t[0].length&&(t[0]="0"+t[0]),t.reverse().join("-")}((new Date).toLocaleDateString())),w=function(e){var t=e.isEditForm,n=Object(f.c)((function(e){return e.edit})),c=n.isEditEnabled,r=n.id,i=n.taskData,s=Object(f.b)();Object(a.useEffect)((function(){return function(){s({type:"DISABLE_EDIT"})}}),[]);var l=c?i:x(N),j=Object(a.useState)(l),d=Object(o.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)(!1),m=Object(o.a)(O,2),w=m[0],y=m[1],g=function(e){var t=e.target,n=t.name,a="checkbox"===t.type?t.checked:t.value;h((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(p.a)({},n,a))}))},k=w?Object(u.jsx)("p",{className:"main-form__validation-info",children:"Input cannot be empty!"}):null;return Object(u.jsxs)("form",{className:"main-form",onSubmit:function(e){if(e.preventDefault(),b.task.trim())if(t){var n=Object(_.a)(Object(_.a)({},b),{},{id:r});s(function(e){return{type:"EDIT",payload:e}}(n)),h(l),y(!1),s({type:"DISABLE_EDIT"})}else{var a=Object(v.a)(),c=Object(_.a)(Object(_.a)({},b),{},{id:a});s({type:"ADD",payload:c}),y(!1),h(l)}else y(!0)},children:[t?Object(u.jsx)("input",{type:"button",value:"Close",onClick:function(e){e.preventDefault(),s({type:"DISABLE_EDIT"})},className:"main-form__btn main-form__close"}):null,Object(u.jsx)("input",{value:b.task,onChange:g,className:"main-form__task-input",type:"text",placeholder:"Add your todo",name:"task",maxLength:"50"}),Object(u.jsx)("input",{disabled:c&&!t,type:"submit",className:"main-form__btn main-form__submit",value:t?"Edit":"Add"}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{className:"main-form__date-label",htmlFor:t?"date-edit":"date",children:["To be done by:",Object(u.jsx)("input",{id:t?"date-edit":"date",className:"main-form__date",type:"date",name:"date",value:b.date,onChange:g,min:N})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{className:"main-form__priority-label",htmlFor:t?"priority-edit":"priority",children:["Priority",Object(u.jsx)("input",{className:"main-form__priority",type:"checkbox",id:t?"priority-edit":"priority",name:"priority",onChange:g,checked:b.priority})]}),k]})},y=n(13),g=Object(a.createContext)(),k=function(e){var t=e.children,n=Object(a.useState)(!0),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(u.jsx)(g.Provider,{value:{active:r,setActive:i},children:t})},E=(n(46),function(e){var t=e.sortByNewest,n=e.handleOnChange;return Object(u.jsxs)("div",{className:"sort-switcher",children:[Object(u.jsx)("span",{className:"sort-switcher__info",children:"Sort by"}),Object(u.jsx)("button",{onClick:n,className:"sort-switcher__btn",children:t?"newest":"date"})]})}),D=(n(47),function(e){var t=e.taskData,n=e.enableBtn,a=t.task,c=t.date,r=t.priority,i=t.id,s=Object(f.c)((function(e){return e.edit})).isEditEnabled,o=Object(f.b)(),l=r?Object(u.jsx)("span",{className:"task__priority-mark",children:Object(u.jsx)(j.a,{icon:d.b})}):null;return Object(u.jsxs)("div",{className:"task",children:[Object(u.jsxs)("p",{className:"task__content",children:[l,a]}),Object(u.jsxs)("p",{className:"task__date-info",children:["To be done by:",Object(u.jsx)("span",{className:"task__date",children:" ".concat(c)})]}),Object(u.jsx)("div",{className:"task__btn-container",children:Object(u.jsxs)("div",{className:"task__btn-wrapper",children:[Object(u.jsx)("button",{disabled:!n||s,className:"task__btn task__edit",onClick:function(){o({type:"ENABLE_EDIT",payload:t})},children:"Edit"}),Object(u.jsx)("button",{disabled:!n||s,className:"task__btn task__delete",onClick:function(){o({type:"DELETE",payload:i})},children:"Delete"})]})})]})}),C=(n(48),function(e){var t=e.children;return Object(u.jsx)("div",{className:"modal",children:t})}),S=(n(49),function(){var e=Object(a.useContext)(g).setActive;return Object(a.useEffect)((function(){return e(!1),function(){e(!0)}}),[]),Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("div",{className:"spinner__element"})})}),T=(n(50),n(51),function(e){var t=e.data,n=Object(o.a)(t.weather,1)[0],a=n.description,c=n.icon,r=t.main,i=r.temp,s=r.pressure,l=r.humidity,j="http://openweathermap.org/img/wn/".concat(c,"@2x.png");return Object(u.jsxs)("div",{className:"weather-correct",children:[Object(u.jsxs)("p",{className:"weather-correct__temp",children:["Temperature: ",Object(u.jsxs)("span",{className:"weather-correct__value",children:[i," C"]})]}),Object(u.jsxs)("p",{className:"weather-correct__condition",children:["Condition: ",Object(u.jsx)("span",{className:"weather-correct__value",children:a})]}),Object(u.jsx)("span",{className:"weather-correct_icon",children:Object(u.jsx)("img",{className:"weather-correct__img",src:j,alt:"Weather icon"})}),Object(u.jsxs)("p",{className:"weather-correct__pressure",children:["Pressure: ",Object(u.jsxs)("span",{className:"weather-correct__value",children:[s," hPa"]})]}),Object(u.jsxs)("p",{className:"weather-correct__humidity",children:["Humidity: ",Object(u.jsxs)("span",{className:"weather-correct__value",children:[l," %"]})]})]})}),A=function(e){var t=function(e){return"404"===e.cod?Object(u.jsx)("p",{className:"weather-data__error",children:"You entered wrong city! "}):200!==e.cod?Object(u.jsx)("p",{className:"weather-data__error",children:"Something went Wrong "}):Object(u.jsx)(T,{data:e})}(e.data);return Object(u.jsx)("div",{className:"weather-data",children:t})},I=(n(52),function(e){var t=e.city,n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)({}),l=Object(o.a)(s,2),j=l[0],d=l[1],b=Object(a.useRef)();return Object(a.useEffect)((function(){var e=function(e){return"https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=").concat("036d8cd2a292c25aaf5044e4e434f79a")}(t);fetch(e).then((function(e){return e.json()})).then((function(e){if(b.current&&(d(e),i(!0),!(e.cod>=200&&e.cod<=299)))throw new Error("Something went wrong: Http error: ".concat(e.cod))})).catch((function(e){return console.error(e)}))}),[]),Object(u.jsx)("div",{ref:b,className:"weather-forecast",children:r?Object(u.jsx)(A,{data:j}):Object(u.jsx)(S,{})})}),L=(n(53),(new Date).toLocaleDateString()),F=function(e){var t=e.closeWeather,n=Object(a.useContext)(g).active,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),d=j[0],b=j[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),m=O[0],f=O[1],p=Object(a.useState)(!1),_=Object(o.a)(p,2),x=_[0],v=_[1];return Object(u.jsxs)("div",{className:"weather",children:[Object(u.jsxs)("p",{className:"weather__data-provider",children:["Weather data provider:"," ",Object(u.jsx)("span",{className:"weather__data-provider-info",children:"OpenWeather (TM)"})]}),Object(u.jsx)("button",{onClick:t,className:"weather__close",children:"Close"}),Object(u.jsxs)("div",{className:"weather__info-wrapper",children:[Object(u.jsxs)("p",{className:"weather__date-info",children:["Weather forecast for"," ",Object(u.jsx)("span",{className:"weather__date",children:L})]}),Object(u.jsxs)("div",{className:"weather__data-container",children:[Object(u.jsxs)("form",{className:"weather__form",onSubmit:function(e){if(e.preventDefault(),d.trim()){var t=d.trim();f(t),v(!1),setTimeout((function(){v(!0)}),0),s(!1)}else s(!0);b("")},children:[Object(u.jsx)("input",{className:"weather__city",type:"text",placeholder:"Type your city!",value:d,onChange:function(e){b(e.target.value)}}),Object(u.jsx)("input",{className:"weather__submit",type:"submit",value:"Confirm",disabled:!n}),i?Object(u.jsx)("p",{className:"weather__wrong-validation",children:"Input cannot be empty!"}):null]}),x&&Object(u.jsx)(I,{city:m})]})]})]})},B=(n(54),function(e){var t=e.isFullList,n=Object(a.useState)(!0),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),j=l[0],d=l[1],b=Object(a.useState)(!0),h=Object(o.a)(b,2),O=h[0],m=h[1],p=Object(a.useState)(!1),_=Object(o.a)(p,2),x=_[0],v=_[1],N=Object(f.c)((function(e){return e.edit})).isEditEnabled,g=Object(f.c)((function(e){return e.tasks}));Object(a.useEffect)((function(){return function(){T()}}),[]);var S=function(e){var t=j?Object(y.a)(g).filter((function(e){return e.priority})):Object(y.a)(g);return e?O?t.reverse():t.sort((function(e,t){return new Date(e.date)-new Date(t.date)===0?-1:new Date(e.date)-new Date(t.date)})):t.reverse().slice(0,5)}(t).map((function(e){return Object(u.jsx)(D,{enableBtn:r,taskData:e,isFull:t||null},e.id)})),T=function(){x&&(i(!0),v(!1))};return Object(u.jsxs)(u.Fragment,{children:[x&&Object(u.jsx)(C,{children:Object(u.jsx)(k,{children:Object(u.jsx)(F,{closeWeather:T})})}),N&&Object(u.jsx)(C,{children:Object(u.jsx)(w,{isEditForm:!0})}),Object(u.jsxs)("section",{className:"todo-container",children:[Object(u.jsxs)("div",{className:"todo-container__info",children:[t?Object(u.jsxs)("div",{className:"todo-container__weather",children:[Object(u.jsx)("span",{className:"todo-container__info",children:"Any plans for today?"}),Object(u.jsx)("button",{disabled:!r||N,className:"todo-container__open-weather",onClick:function(){x||(i(!1),v(!0))},children:"Check the weather!"})]}):null,t?"All todos will be below":"5 newest todos will be below",Object(u.jsxs)("label",{className:"todo-container__prorities-label",htmlFor:"prorities",children:["Show prorities only",Object(u.jsx)("input",{className:"todo-container__prorities-input",id:"prorities",type:"checkbox",checked:j,onChange:function(){d((function(e){return!e}))}})]}),t?Object(u.jsx)(E,{sortByNewest:O,handleOnChange:function(){m((function(e){return!e}))}}):null]}),Object(u.jsx)("div",{className:"todo-container__list-wrapper",children:S})]})]})}),W=function(){var e=Object(f.b)();return Object(a.useEffect)((function(){return function(){e({type:"DISABLE_EDIT"})}}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(w,{}),Object(u.jsx)(B,{})]})},P=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(B,{isFullList:!0})})},H=(n(55),function(){return Object(u.jsxs)("div",{className:"error-page",children:[Object(u.jsx)("h2",{className:"error-page__info",children:"Oops... Page not found!"}),Object(u.jsxs)("div",{className:"error-page__redirect-info",children:["Go back to Home page"," ",Object(u.jsx)(s.b,{to:"/",className:"error-page__redirect-link",children:"here"})]})]})}),z=(n(56),function(){return Object(u.jsx)("main",{className:"main",children:Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{path:"/",exact:!0,component:W}),Object(u.jsx)(m.a,{path:"/tasks",exact:!0,component:P}),Object(u.jsx)(m.a,{component:H})]})})}),J=(n(57),function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("p",{className:"footer__author-info",children:"Created by Adam Ciesielski"})})});n(58);var M=function(){return Object(u.jsx)(s.a,{basename:"/to-do-app",children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(O,{}),Object(u.jsx)(z,{}),Object(u.jsx)(J,{})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},q=n(24),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return[].concat(Object(y.a)(e),[t.payload]);case"DELETE":return e.filter((function(e){return e.id!==t.payload}));case"EDIT":var n=t.payload,a=n.task,c=n.id,r=n.date,i=n.priority,s=Object(y.a)(e),o=s.findIndex((function(e){return e.id===c}));return s[o]=Object(_.a)(Object(_.a)({},s[o]),{},{task:a,date:r,priority:i}),s;default:return e}},Y={isEditEnabled:!1,id:null,taskData:{}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENABLE_EDIT":var n=t.payload,a=n.task,c=n.date,r=n.priority,i=n.id,s={task:a,date:c,priority:r};return{isEditEnabled:!0,id:i,taskData:s};case"DISABLE_EDIT":return Y;default:return e}},Q=Object(q.a)({tasks:G,edit:K}),U=Object(q.b)(Q);i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(f.a,{store:U,children:Object(u.jsx)(M,{})})}),document.getElementById("root")),R()}},[[59,1,2]]]);
//# sourceMappingURL=main.e22790a7.chunk.js.map